{"version":3,"sources":["components/Header/AnimatedLogo.module.css","components/UI/UserMessage.module.css","components/UI/StoriesSlideshow.module.css","components/Main/ShowPersonalData.module.css","components/UI/AccordionProfile.module.css","components/UI/UserPane.module.css","components/UI/ProfileNav.module.css","components/Main/ConfirmCancelButtons.module.css","components/UI/UserIcon.module.css","components/Header/MainLogo.module.css","components/UI/WhiteButton.module.css","components/UI/DarkButton.module.css","components/UI/Wrappers/CardWrapper.module.css","components/UI/StandardButton.module.css","components/Footer/Footer.js","components/Header/MainNav.js","components/Header/AnimatedLogo.js","components/UI/UserIcon.js","components/Header/MainHeader.js","components/Header/MainLogo.js","components/Header/SlimHeader.js","components/UI/WhiteButton.js","components/Login/LoginForm.js","components/Login/SignupForm.js","components/UI/UserPane.js","components/UI/Wrappers/MainWrapper.js","components/UI/DarkButton.js","components/UI/Wrappers/ColoredWrapper.js","components/Main/AddStoryForm/AddStoryForm.js","components/Main/AddContent.js","components/UI/CountryCitySelector/CitySelector.js","components/UI/CountryCitySelector/CountrySelector.js","components/UI/CountryCitySelector/CountryCitySelector.js","components/UI/Wrappers/CardWrapper.js","components/Main/img/no_image.jpg","components/Main/ShowSingleStory.js","components/Main/ShowStories.js","components/Main/BrowseContent.js","components/UI/StandardButton.js","components/UI/img/loading.gif","components/UI/StoriesSlideshow.js","components/Main/HomeContent.js","components/UI/ProfileNav.js","components/UI/EditStoryUI/EditStoryUI.js","components/Main/ShowSubmittedStories.js","components/UI/UserMessage.js","components/Main/ConfirmCancelButtons.js","components/Main/ShowPersonalData.js","components/UI/AccordionProfile.js","components/Main/ProfileContent.js","App.js","index.js"],"names":["module","exports","Footer","className","href","target","rel","MainNav","props","to","session","onClick","toggleLoginFormVisibility","AnimatedLogo","window","onorientationchange","orientation","location","reload","classes","UserIcon","toggleUserPaneVisibility","MainHeader","useEffect","vh","innerHeight","document","documentElement","style","setProperty","innerWidth","MainLogo","SlimHeader","WhiteButton","type","styles","text","LoginForm","useState","email","password","user","setUser","onSubmit","e","preventDefault","checkValidity","fetch","headers","method","body","JSON","stringify","then","res","json","result","handleModalMessage","onLogin","sessionStorage","setItem","_id","catch","error","console","log","message","htmlFor","name","id","autoComplete","required","value","onChange","username","prevData","trim","toggleSignupFormVisibility","SignupForm","nameInputRef","useRef","surnameInputRef","emailInputRef","passwordInputRef","confirmPasswordInputRef","checkedInputRef","current","surname","success","ref","UserPane","paneVisiblity","setPaneVisiblity","userPaneVisibility","showLinks","linksToShow","map","link","index","display","logOutUser","MainWrapper","children","DarkButton","ColoredWrapper","AddStoryForm","story","age","gender","telephone_number","from_city","from_country","current_city","current_country","spot","advice","dream","share_contact","setStory","storySubmitted","setStorySubmitted","handleStory","field","prevState","Object","assign","newStory","where_to_find","from","city","country","currently_in","interview","contact","img","submittedBy","getItem","results","length","min","max","rows","checked","AddContent","showUserPane","CitySelector","cities","setCities","sort","showCities","defaultValue","handleCurrentCity","CountrySelector","countries","setCountries","showCountries","handleCurrentCountry","CountryCitySelector","currentCountry","setCurrentCountry","currentCity","setCurrentCity","handleSearchLocale","CardWrapper","ShowSingleStory","editStoryUI","src","NoImage","alt","ShowStories","showResults","approved","BrowseContent","searchLocale","setSearchLocale","setResults","url","locale","StandardButton","StoriesSlideshow","showCarouselItems","setHomeStories","slice","homeStories","Carousel","Item","Caption","color","fontSize","textAlign","LoadingGif","indicators","fade","interval","HomeContent","ProfileNav","EditStoryUI","handleStoryToDelete","storyToDelete","ShowSubmittedStories","showFilteredStories","currentUserID","foundStories","setFilteredStories","filteredStories","delete","newFilteredStories","filter","UserMessage","cancelButton","modal","ConfirmCancelButtons","onCancel","onConfirm","ShowPersonalData","userId","setPersonalData","setOldPersonalData","personalData","oldPersonalData","formDisabled","setFormDisabled","showModal","setShowModal","showPasswordEdit","setShowPasswordEdit","modalText","setModalText","newPasswordObj","setNewPasswordObj","handleNewPasswordObj","key","modifyButtons","editPasswordContent","currentPassword","newPassword","confirmPassword","nModified","editDataContent","placeholder","disabled","oldmail","modifiedCount","AccordionProfile","showComponentCards","components","component","Card","Accordion","Toggle","as","Header","eventKey","title","Collapse","Body","defaultActiveKey","ProfileContent","accordionComponents","handleSession","App","isLogged","setSession","userFound","showLogin","setShowLogin","showSignup","setShowSignup","modalMessage","setModalMessage","setStoryToDelete","setShowUserPane","removeItem","deletedCount","loggedOut","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.53c5f364.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"animated-title\":\"AnimatedLogo_animated-title__36ADy\",\"text-top\":\"AnimatedLogo_text-top__2uRVs\",\"showTopText\":\"AnimatedLogo_showTopText__3r7Js\",\"text-bottom\":\"AnimatedLogo_text-bottom__3Si26\",\"showBottomText\":\"AnimatedLogo_showBottomText__1R0G_\",\"of-the-span\":\"AnimatedLogo_of-the-span__19ipu\",\"read-stories-sub\":\"AnimatedLogo_read-stories-sub__1YOkB\",\"main-text\":\"AnimatedLogo_main-text__OB1Ft\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"UserMessage_modal__27XK6\",\"modal-content\":\"UserMessage_modal-content__2AuH2\",\"modal-text\":\"UserMessage_modal-text__2u3ec\",\"modal-button\":\"UserMessage_modal-button__1xvQ7\",\"button-container\":\"UserMessage_button-container__3QHSD\",\"left-button\":\"UserMessage_left-button__1stIu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"carousel-container\":\"StoriesSlideshow_carousel-container__2N4EA\",\"carousel-caption\":\"StoriesSlideshow_carousel-caption__3VYTe\",\"carousel-img\":\"StoriesSlideshow_carousel-img__3QG_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"personal-data-container\":\"ShowPersonalData_personal-data-container__3IOh9\",\"show-data-button\":\"ShowPersonalData_show-data-button__oj5ab\",\"profile-forms\":\"ShowPersonalData_profile-forms__3-k7I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"accordion-header\":\"AccordionProfile_accordion-header__3dm8F\",\"accordion-title\":\"AccordionProfile_accordion-title__2LcYI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user-pane\":\"UserPane_user-pane__17fhZ\",\"style-six\":\"UserPane_style-six__tvOXM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile-nav\":\"ProfileNav_profile-nav__3xPce\",\"accented-button\":\"ProfileNav_accented-button__3Jhu1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"show-data-button\":\"ConfirmCancelButtons_show-data-button__8pWsf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user-icon\":\"UserIcon_user-icon__3BXc0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-logo\":\"MainLogo_main-logo__Ezz2d\",\"wrapper\":\"MainLogo_wrapper__3a_dV\",\"typing-demo\":\"MainLogo_typing-demo__19WlV\",\"typing\":\"MainLogo_typing__KGnyG\",\"blink\":\"MainLogo_blink__1zUxH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"white-button\":\"WhiteButton_white-button__1zVyC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dark-button\":\"DarkButton_dark-button__3Eond\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid-item\":\"CardWrapper_grid-item__3mTvo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"standard-button\":\"StandardButton_standard-button__2Xw7G\"};","import \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"pictures-icon-credits\">\r\n        <small>\r\n          Picture by{\" \"}\r\n          <a\r\n            href=\"https://www.pexels.com/es-es/@harrisonhaines?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Harrison Haines\r\n          </a>{\" \"}\r\n          on{\" \"}\r\n          <a href=\"https://www.pexels.com/\" target=\"_blank\" rel=\"noreferrer\">\r\n            Pexels\r\n          </a>\r\n          .\r\n        </small>\r\n        <small>\r\n          Icons by{\" \"}\r\n          <a href=\"https://www.flaticon.es/\" target=\"_blank\" rel=\"noreferrer\">\r\n            Flaticon\r\n          </a>\r\n          .\r\n        </small>\r\n      </div>\r\n      <small className=\"made-by\">Made by Nicolas Gasco.</small>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import { Link } from \"react-router-dom\";\r\nimport \"./MainNav.css\";\r\n\r\nconst MainNav = (props) => {\r\n  return (\r\n    <nav className=\"main-nav\">\r\n      <Link to=\"/browse/\"><div>Browse</div></Link>\r\n      {props.session ? (\r\n        <Link to=\"/profile/\"><div>Profile</div></Link>\r\n      ) : (\r\n        <button onClick={props.toggleLoginFormVisibility}>Login</button>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MainNav;\r\n","import classes from \"./AnimatedLogo.module.css\";\r\n\r\n// This animated logo requires this structure to work\r\nconst AnimatedLogo = () => {\r\n\r\n  // Reload page if orientation is changed, otherwise amination doesn't show correctly\r\n  window.onorientationchange = function () {\r\n    var orientation = window.orientation;\r\n    switch (orientation) {\r\n      case 0:\r\n      case 90:\r\n      case -90:\r\n        window.location.reload();\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes[\"animated-title\"]}>\r\n      <div className={classes[\"text-top\"]}>\r\n        <div>\r\n          <span className={classes[\"main-text\"]}>Humans</span>\r\n          <span className={classes[\"main-text\"]}>\r\n            <span className={classes[\"of-the-span\"]}>of the</span> Streets\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className={classes[\"text-bottom\"]}>\r\n        <div>\r\n          <p className={classes[\"read-stories-sub\"]}>Read their stories...</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnimatedLogo;\r\n","import classes from \"./UserIcon.module.css\";\r\n\r\nconst UserIcon = (props) => {\r\n  if (props.session) {\r\n    return (\r\n      <button onClick={props.toggleUserPaneVisibility} className={classes[\"user-icon\"]}></button>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n\r\n}\r\n\r\nexport default UserIcon;\r\n","import MainNav from \"./MainNav\";\r\nimport \"./MainHeader.css\";\r\nimport AnimatedLogo from \"./AnimatedLogo\";\r\nimport UserIcon from \"../UI/UserIcon\";\r\nimport { useEffect } from \"react\";\r\n\r\n// Big header for homepage\r\nconst MainHeader = (props) => {\r\n  useEffect(() => {\r\n    // This is to offset the search bar on mobile devices\r\n    // Get the viewport height and multiple it by 1% to get a value for a vh unit\r\n    const vh = window.innerHeight * 0.01;\r\n    // Det the value in the --vh custom property to the root of the document\r\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\r\n  }, []);\r\n\r\n  // Two different returns for mobile and desktop/tablet version\r\n  if (window.innerWidth <= 600) {\r\n    return (\r\n      <header className=\"main-header\">\r\n        <div className=\"picture-container\">\r\n          <AnimatedLogo />\r\n        </div>\r\n        <MainNav\r\n          session={props.session}\r\n          toggleLoginFormVisibility={props.toggleLoginFormVisibility}\r\n        />\r\n      </header>\r\n    );\r\n  } else {\r\n    return (\r\n      <header className=\"main-header\">\r\n        <div className=\"picture-container\">\r\n          <AnimatedLogo />\r\n        </div>\r\n        <MainNav\r\n          session={props.session}\r\n          toggleLoginFormVisibility={props.toggleLoginFormVisibility}\r\n        />\r\n      </header>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MainHeader;\r\n","import { Link } from \"react-router-dom\";\r\nimport classes from \"./MainLogo.module.css\";\r\n\r\n// Regular logo for pages other than home\r\nconst MainLogo = () => {\r\n  return (\r\n    <div>\r\n      <Link to=\"/\"><h1 className={classes[\"main-logo\"]}>\r\n        Humans <span>of</span><br /><span>the</span> Streets\r\n      </h1></Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainLogo;\r\n","import MainLogo from \"./MainLogo\";\r\nimport UserIcon from \"../UI/UserIcon\";\r\nimport \"./SlimHeader.css\";\r\n\r\n// Smaller header for pages other than home\r\nconst SlimHeader = (props) => {\r\n  return (\r\n    <div className=\"slim-header\">\r\n      <MainLogo />\r\n      <UserIcon toggleUserPaneVisibility={props.toggleUserPaneVisibility} session={props.session}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SlimHeader;\r\n","import styles from \"./WhiteButton.module.css\";\r\n\r\n// Wrapper to style white/transparent buttons\r\nconst WhiteButton = (props) => {\r\n  return <button type={props.type} onClick={props.onClick} className={`${styles[\"white-button\"]} ${props.className}`}>{props.text}</button>;\r\n};\r\nexport default WhiteButton;\r\n","import \"./LoginForm.css\";\r\nimport WhiteButton from \"../UI/WhiteButton\";\r\nimport { useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nconst LoginForm = (props) => {\r\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\r\n\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n    e.target.checkValidity();\r\n\r\n    fetch(\"/api/login\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify(user),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.session) {\r\n          props.handleModalMessage(\"Welcome back!\");\r\n          setUser({ email: \"\", password: \"\" });\r\n          props.onLogin(true);\r\n          sessionStorage.setItem(\"user\", result.user._id);\r\n          props.toggleLoginFormVisibility();\r\n        } else {\r\n          props.handleModalMessage(\"Wrong user or password!\");\r\n          setUser({ email: \"\", password: \"\" });\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n        props.handleModalMessage(\"Something went wrong :( Try again.\");\r\n      });\r\n  };\r\n\r\n  const handleUsername = (username) => {\r\n    setUser((prevData) => {\r\n      return { ...prevData, email: username.trim() };\r\n    });\r\n  };\r\n\r\n  const handlePassword = (password) => {\r\n    setUser((prevData) => {\r\n      return { ...prevData, password: password };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <form className=\"login-form\" onSubmit={submitForm}>\r\n        <div>\r\n          <div>\r\n            <label htmlFor=\"username\">Username: </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"username\"\r\n              id=\"username\"\r\n              autoComplete=\"email\"\r\n              required\r\n              value={user.email}\r\n              onChange={(e) => {\r\n                handleUsername(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"password\">Password: </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              required\r\n              value={user.password}\r\n              onChange={(e) => {\r\n                handlePassword(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <WhiteButton type=\"submit\" className=\"login-button\" text=\"Login\" />\r\n      </form>\r\n      <p className=\"white-text\">\r\n        Are you new?{\" \"}\r\n        <span\r\n          onClick={props.toggleSignupFormVisibility}\r\n          className=\"signup-link\"\r\n        >\r\n          Sign up\r\n        </span>{\" \"}\r\n        instead.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import \"./SignupForm.css\";\r\nimport { useRef, useState } from \"react\";\r\nimport WhiteButton from \"../UI/WhiteButton\";\r\n\r\nconst SignupForm = (props) => {\r\n  const nameInputRef = useRef(\"\");\r\n  const surnameInputRef = useRef(\"\");\r\n  const emailInputRef = useRef(\"\");\r\n  const passwordInputRef = useRef(\"\");\r\n  const confirmPasswordInputRef = useRef(\"\");\r\n  const checkedInputRef = useRef(\"\");\r\n\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n    e.target.checkValidity();\r\n\r\n    console.log(nameInputRef.current.value)\r\n    if (passwordInputRef.current.value !== confirmPasswordInputRef.current.value) {\r\n      props.handleModalMessage(\"The two passwords don't match!\");\r\n      passwordInputRef.current.value = \"\";\r\n      confirmPasswordInputRef.current.value = \"\";\r\n    } else {\r\n      fetch(\"/api/signin\", {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email: emailInputRef.current.value.trim(),\r\n          name: nameInputRef.current.value.trim(),\r\n          surname: surnameInputRef.current.value.trim(),\r\n          password: confirmPasswordInputRef.current.value,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (result.success) {\r\n            props.handleModalMessage(\"Welcome to Humans of the Streets!\");\r\n\r\n            emailInputRef.current.value = \"\";\r\n            nameInputRef.current.value = \"\";\r\n            surnameInputRef.current.value = \"\";\r\n            passwordInputRef.current.value = \"\";\r\n            confirmPasswordInputRef.current.value = \"\";\r\n          } else {\r\n            props.handleModalMessage(\"The user is already registered!\");          \r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"An error occurred: \" + error.message);\r\n          props.handleModalMessage(\"Ops! Something went wrong :(\");          \r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup-container\">\r\n      <form className=\"signup-form\" onSubmit={submitForm}>\r\n        <div className=\"form-div\">\r\n          <div>\r\n            <label htmlFor=\"name\">Name: </label>\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n              required\r\n              autoComplete=\"given-name\"\r\n              ref={nameInputRef}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"surname\">Surname: </label>\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              name=\"surname\"\r\n              id=\"surname\"\r\n              required\r\n              autoComplete=\"family-name\"\r\n              ref={surnameInputRef}\r\n\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <label htmlFor=\"email\">Email: </label>\r\n            <br />\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              required\r\n              autoComplete=\"email\"\r\n              ref={emailInputRef}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <label htmlFor=\"password\">Password: </label>\r\n            <br />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              required\r\n              autoComplete=\"new-password\"\r\n              ref={passwordInputRef}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"confirm-password\">Confirm password: </label>\r\n            <br />\r\n            <input\r\n              type=\"password\"\r\n              name=\"confirm-password\"\r\n              id=\"confirm-password\"\r\n              required\r\n              autoComplete=\"new-password\"\r\n              ref={confirmPasswordInputRef}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <p className=\"disclaimer-text\">\r\n            <input\r\n              className=\"checkbox\"\r\n              type=\"checkbox\"\r\n              required\r\n              ref={checkedInputRef}\r\n            />\r\n            By signing up, you accept our Privacy Agreement.\r\n          </p>\r\n        </div>\r\n        <WhiteButton type=\"submit\" className=\"signup-button\" text=\"Sign up\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupForm;\r\n","import classes from './UserPane.module.css'\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserPane = (props) => {\r\n  const [paneVisiblity, setPaneVisiblity] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setPaneVisiblity(props.userPaneVisibility);\r\n  }, [props.userPaneVisibility]);\r\n\r\n  const showLinks = props.linksToShow.map((link, index) => {\r\n    return (\r\n      <li key={`link-${index}`}>\r\n        <Link\r\n          to={link[1]}\r\n          className={classes[\"user-pane-link\"]}\r\n          onClick={props.toggleUserPaneVisibility}\r\n        >\r\n          {link[0]}\r\n        </Link>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <section\r\n        className={classes[\"user-pane\"]}\r\n        style={{ display: `${paneVisiblity ? \"block\" : \"none\"}` }}\r\n      >\r\n        <ul>\r\n          {showLinks}\r\n          <br/>\r\n          <li>\r\n            <Link to=\"/\" onClick={props.logOutUser}>\r\n              Logout\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserPane;\r\n","import \"./MainWrapper.css\";\r\n\r\n// Wrapper to format main sections of websites\r\nconst MainWrapper = (props) => {\r\n  const classes = \"main-wrapper \" + props.className;\r\n  return <main className={classes}>{props.children}</main>;\r\n};\r\nexport default MainWrapper;\r\n","import styles from \"./DarkButton.module.css\";\r\n\r\n// Wrapper to style dark/transparent buttons\r\nconst DarkButton = (props) => {\r\n  return <button type={props.type} onClick={props.onClick} className={`${styles[\"dark-button\"]} ${props.className}`}>{props.text}</button>;\r\n};\r\nexport default DarkButton;\r\n","import \"./ColoredWrapper.css\";\r\n\r\n// Wrapper to add contrasting background\r\nconst ColoredWrapper = (props) => {\r\n  const classes = \"colored-wrapper \" + props.className;\r\n  return <div className={classes}>{props.children}</div>;\r\n};\r\nexport default ColoredWrapper;\r\n","import { useState } from \"react\";\r\nimport Card from \"react-bootstrap/esm/Card\";\r\nimport DarkButton from \"../../UI/DarkButton\";\r\nimport WhiteButton from \"../../UI/WhiteButton\";\r\nimport ColoredWrapper from \"../../UI/Wrappers/ColoredWrapper\";\r\nimport \"./AddStoryForm.css\";\r\n\r\nconst AddStoryForm = (props) => {\r\n  let [story, setStory] = useState({\r\n    story: {\r\n      name: \"\",\r\n      surname: \"\",\r\n      age: \"\",\r\n      gender: \"female\",\r\n      email: \"\",\r\n      telephone_number: \"\",\r\n      from_city: \"\",\r\n      from_country: \"\",\r\n      current_city: \"\",\r\n      current_country: \"\",\r\n      spot: \"\",\r\n      story: \"\",\r\n      advice: \"\",\r\n      dream: \"\",\r\n      share_contact: false,\r\n    },\r\n  });\r\n  const [storySubmitted, setStorySubmitted] = useState(false);\r\n\r\n  const submitStory = (e) => {\r\n    e.preventDefault();\r\n    e.target.checkValidity();\r\n\r\n    story = story.story;\r\n    const newStory = {\r\n      name: story.name.trim(),\r\n      surname: story.surname.trim(),\r\n      age: story.age,\r\n      gender: story.gender,\r\n      where_to_find: {\r\n        spot: story.spot.trim(),\r\n      },\r\n      from: {\r\n        city: story.from_city.trim(),\r\n        country: story.from_country.trim(),\r\n      },\r\n      currently_in: {\r\n        city: story.current_city.trim(),\r\n        country: story.current_country.trim(),\r\n      },\r\n      interview: {\r\n        story: story.story.trim(),\r\n        advice: story.advice.trim(),\r\n        dream: story.dream.trim(),\r\n      },\r\n      contact: {\r\n        email: story.email.trim(),\r\n        telephone_number: story.telephone_number.trim(),\r\n        share_contact: story.share_contact,\r\n      },\r\n      img: story.img.trim(),\r\n      submittedBy: sessionStorage.getItem(\"user\"),\r\n    };\r\n\r\n    fetch(\"/api/humans/new\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify(newStory),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.results.length != 0) {\r\n          setStorySubmitted(true);\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n      });\r\n  };\r\n\r\n  const handleStory = (value, field) => {\r\n    setStory((prevState) => {\r\n      let story = Object.assign({}, prevState.story);\r\n      story[field] = value.trim();\r\n      return { story };\r\n    });\r\n  };\r\n\r\n  if (storySubmitted) {\r\n    return (\r\n      <ColoredWrapper className=\"story-submitted\">\r\n        <h2 className=\"story-submitted__header\">\r\n          Your story was successfully submitted.\r\n        </h2>\r\n        <WhiteButton\r\n          className=\"story-submitted__button\"\r\n          onClick={() => {\r\n            setStorySubmitted(false);\r\n          }}\r\n          text=\"Add a new one\"\r\n        />\r\n      </ColoredWrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <h2 className=\"section-header\">Add a new story</h2>\r\n      <div className=\"addstory-container\">\r\n        <h3>Interviewee info:</h3>\r\n        <form className=\"addstory-form\" onSubmit={submitStory}>\r\n          <h4>Personal data:</h4>\r\n          <div>\r\n            <label htmlFor=\"name\">Name: </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n              required\r\n              autoComplete=\"given-name\"\r\n              value={story.name}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"name\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"surname\">Surname: </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"surname\"\r\n              id=\"surname\"\r\n              required\r\n              autoComplete=\"family-name\"\r\n              value={story.surname}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"surname\");\r\n              }}\r\n            />\r\n          </div>\r\n          <br />\r\n          <div className=\"shorter-input\">\r\n            <label htmlFor=\"age\">Age: </label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"age\"\r\n              id=\"age\"\r\n              min=\"18\"\r\n              max=\"120\"\r\n              required\r\n              value={story.age}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"age\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"shorter-input\">\r\n            <label htmlFor=\"gender\">Gender: </label>\r\n            <select\r\n              type=\"number\"\r\n              name=\"gender\"\r\n              id=\"gender\"\r\n              required\r\n              autoComplete=\"sex\"\r\n              value={story.gender}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"gender\");\r\n              }}\r\n            >\r\n              <option value=\"female\">Female</option>\r\n              <option value=\"male\">Male</option>\r\n              <option value=\"other\">Other</option>\r\n            </select>\r\n          </div>\r\n          <h4>Contact:</h4>\r\n          <div>\r\n            <label htmlFor=\"email\">Email: </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              autoComplete=\"email\"\r\n              value={story.name}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"email\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"telephone\">Telephone: </label>\r\n            <input\r\n              type=\"tel\"\r\n              name=\"telephone\"\r\n              id=\"telephone\"\r\n              autoComplete=\"tel\"\r\n              value={story.telephone_number}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"telephone_number\");\r\n              }}\r\n            />\r\n          </div>\r\n          <h4>From:</h4>\r\n          <div>\r\n            <label htmlFor=\"from-city\">City: </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"from-city\"\r\n              id=\"from-city\"\r\n              required\r\n              autoComplete=\"address-level2\"\r\n              value={story.from_city}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"from_city\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"from-country\">Country: </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"from-country\"\r\n              id=\"from-country\"\r\n              required\r\n              autoComplete=\"country\"\r\n              value={story.from_city}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"from_country\");\r\n              }}\r\n            />\r\n          </div>\r\n          <h4>Living in:</h4>\r\n          <div>\r\n            <label htmlFor=\"current-city\">City: </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"current-city\"\r\n              id=\"current-city\"\r\n              required\r\n              autoComplete=\"address-level2\"\r\n              value={story.current_city}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"current_city\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"current_country\">Country: </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"current_country\"\r\n              id=\"current_country\"\r\n              required\r\n              autoComplete=\"country\"\r\n              value={story.current_country}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"current_country\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"spot\">Where usually found: </label>\r\n            <textarea\r\n              name=\"spot\"\r\n              id=\"spot\"\r\n              value={story.spot}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"spot\");\r\n              }}\r\n            />\r\n          </div>\r\n          <h4>Interview:</h4>\r\n          <div>\r\n            <label htmlFor=\"story\">Story: </label>\r\n            <textarea\r\n              name=\"story\"\r\n              id=\"story\"\r\n              rows=\"4\"\r\n              required\r\n              value={story.spot}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"story\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"advice\">Advice: </label>\r\n            <textarea\r\n              name=\"advice\"\r\n              id=\"advice\"\r\n              rows=\"2\"\r\n              required\r\n              value={story.spot}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"advice\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"dream\">Dream: </label>\r\n            <textarea\r\n              name=\"dream\"\r\n              id=\"dream\"\r\n              rows=\"2\"\r\n              required\r\n              value={story.spot}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"dream\");\r\n              }}\r\n            />\r\n          </div>\r\n          <h4>Image:</h4>\r\n          <div>\r\n            <label htmlFor=\"img\">Image link: </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"img\"\r\n              id=\"img\"\r\n              rows=\"2\"\r\n              autoComplete=\"photo\"\r\n              value={story.img}\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"img\");\r\n              }}\r\n            />\r\n          </div>\r\n          <h4>Consent:</h4>\r\n          <div>\r\n            <p>\r\n              Does the interviewee agreed to sharing their contact information?\r\n            </p>\r\n            <div\r\n              className=\"shorter-input\"\r\n              onChange={(e) => {\r\n                handleStory(e.target.value, \"share_contact\");\r\n              }}\r\n            >\r\n              <input\r\n                type=\"radio\"\r\n                id=\"share-yes\"\r\n                name=\"share-consent\"\r\n                value=\"true\"\r\n              />\r\n              <label htmlFor=\"share-yes\">Yes</label>\r\n              <input\r\n                type=\"radio\"\r\n                id=\"share-no\"\r\n                name=\"share-consent\"\r\n                value=\"false\"\r\n                checked\r\n              />\r\n              <label htmlFor=\"share-no\">No</label>\r\n            </div>\r\n          </div>\r\n          <DarkButton\r\n            type=\"submit\"\r\n            className=\"newstory-button\"\r\n            text=\"Submit story\"\r\n          />\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AddStoryForm;\r\n","import UserPane from \"../UI/UserPane\";\r\nimport MainWrapper from \"../UI/Wrappers/MainWrapper\";\r\nimport AddStoryForm from \"./AddStoryForm/AddStoryForm\";\r\n\r\n// Main tag to add a new story\r\nconst AddContent = (props) => {\r\n  return (\r\n    <>\r\n      <UserPane\r\n        linksToShow={[\r\n          [\"Your profile\", \"/profile\"],\r\n          [\"Browse stories\", \"/browse\"],\r\n          [\"Homepage\", \"/\"],\r\n        ]}\r\n        userPaneVisibility={props.showUserPane}\r\n        toggleUserPaneVisibility={props.toggleUserPaneVisibility}\r\n        logOutUser={props.logOutUser}\r\n      />\r\n      <MainWrapper>\r\n        <AddStoryForm />\r\n      </MainWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddContent;\r\n","import { useEffect, useState } from \"react\";\r\n\r\n// City selector to filter results according to city\r\nconst CitySelector = (props) => {\r\n  const [cities, setCities] = useState([]);\r\n\r\n  // Get all cities of a specific country\r\n  useEffect(() => {\r\n    console.log(props.country);\r\n    if (props.country !== \"all\" && props.country !== null) {\r\n      fetch(`/api/locations/cities/${props.country}`)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setCities(result.results.sort());\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"An error occurred: \" + error.message);\r\n        });\r\n    }\r\n  }, [props.country]);\r\n\r\n  const showCities = cities.map((city) => {\r\n    return (\r\n      <option key={city} value={city}>\r\n        {city}\r\n      </option>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <label htmlFor=\"cities\">City: </label>\r\n      <select\r\n        defaultValue=\"all\"\r\n        id=\"cities\"\r\n        onChange={(e) => {\r\n          props.handleCurrentCity(e.target.value);\r\n        }}\r\n      >\r\n        <option value=\"all\">All cities</option>\r\n        {showCities}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CitySelector;\r\n","import { useEffect, useState } from \"react\";\r\n\r\n// Selector to filter stories by country\r\nconst CountrySelector = (props) => {\r\n  const [countries, setCountries] = useState([]);\r\n\r\n  // Fetching all available countries\r\n  useEffect(() => {\r\n    fetch(\"/api/locations/countries\")\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setCountries(result.results.sort());\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n      });\r\n  }, []);\r\n\r\n  const showCountries = countries.map((country) => {\r\n    return (\r\n      <option key={country} value={country}>\r\n        {country}\r\n      </option>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <label htmlFor=\"countries\">Country: </label>\r\n      <select\r\n        id=\"countries\"\r\n        onChange={(e) => {\r\n          props.handleCurrentCountry(e.target.value);\r\n        }}\r\n      >\r\n        <option value=\"all\">All countries</option>\r\n        {showCountries}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountrySelector;\r\n","import { useEffect, useState } from \"react\";\r\nimport CitySelector from \"./CitySelector\";\r\nimport \"./CountryCitySelector.css\";\r\nimport CountrySelector from \"./CountrySelector\";\r\n\r\n// Selector to filter stories per country and/or city\r\nconst CountryCitySelector = (props) => {\r\n  const [currentCountry, setCurrentCountry] = useState(null);\r\n  const [currentCity, setCurrentCity] = useState(null);\r\n\r\n  // Sending information up\r\n  useEffect(() => {\r\n    console.log(currentCity)\r\n    props.handleSearchLocale({ country: currentCountry, city: currentCity });\r\n  }, [currentCountry, currentCity]);\r\n\r\n  const handleCurrentCountry = (country) => {\r\n\r\n    if (country === \"all\") {\r\n      setCurrentCountry(null);\r\n      setCurrentCity(null);\r\n    } else {\r\n      setCurrentCountry(country);\r\n      setCurrentCity(null);\r\n    }\r\n  };\r\n\r\n  const handleCurrentCity = (city) => {\r\n    setCurrentCity(city);\r\n  };\r\n\r\n  return (\r\n    <div className=\"country-city-selector\">\r\n      <CountrySelector handleCurrentCountry={handleCurrentCountry} />\r\n      {currentCountry ? (\r\n        <CitySelector\r\n          handleCurrentCity={handleCurrentCity}\r\n          country={currentCountry}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountryCitySelector;\r\n","import classes from \"./CardWrapper.module.css\";\r\n\r\n// Wrapper to format cards\r\nconst CardWrapper = (props) => {\r\n  return <div className={`${classes[\"grid-item\"]} ${props.className}`}>{props.children}</div>;\r\n};\r\n\r\nexport default CardWrapper;\r\n","export default __webpack_public_path__ + \"static/media/no_image.ced3df5f.jpg\";","import CardWrapper from \"../UI/Wrappers/CardWrapper\";\r\nimport NoImage from \"./img/no_image.jpg\";\r\nimport \"./ShowSingleStory.css\";\r\n\r\n// Card for showing one single result\r\nconst ShowSingleStory = ({ story, editStoryUI }) => {\r\n\r\n  return (\r\n    <CardWrapper key={story._id} className=\"story-container\">\r\n      {editStoryUI ? editStoryUI : null}\r\n      <img src={story.img || NoImage} alt={`${story.name} ${story.surname}`} />\r\n      <div className=\"story-text-container\">\r\n        <h3>\r\n          {story.name} {story.surname} ({story.age}, {story.gender})\r\n        </h3>\r\n        <p>\r\n          <b>From: </b>\r\n          {story.from.city} ({story.from.country})\r\n        </p>\r\n        <p>\r\n          <b>Currently in: </b>\r\n          {story.currently_in.city} ({story.currently_in.country})\r\n        </p>\r\n        <p>\r\n          <b>Story: </b>\r\n          {story.interview.story}\r\n        </p>\r\n        <p>\r\n          <b>Advice: </b>\r\n          {story.interview.advice}\r\n        </p>\r\n        <p>\r\n          <b>Dream: </b>\r\n          {story.interview.dream}\r\n        </p>\r\n      </div>\r\n    </CardWrapper>\r\n  );\r\n};\r\n\r\nexport default ShowSingleStory;\r\n","import CardWrapper from \"../UI/Wrappers/CardWrapper\";\r\nimport ShowSingleStory from \"./ShowSingleStory\";\r\nimport \"./ShowStories.css\";\r\n\r\n// Container showing more single stories\r\nconst ShowStories = ({ results }) => {\r\n  const showResults = results.map((result) => {\r\n    // Show only good results\r\n    if (result.approved !== false) {\r\n      return <ShowSingleStory key={result._id} story={result} />;\r\n    }\r\n  });\r\n\r\n  if (results.length > 0) {\r\n    return <div className=\"results-container\">{showResults}</div>;\r\n  } else {\r\n    return (\r\n      <div className=\"results-container\">\r\n        <CardWrapper className=\"something-went-wrong\">\r\n          <h3>Ops! Something went wrong :(</h3>\r\n          <p>Try refreshing the page. We're sorry for the inconvenience.</p>\r\n        </CardWrapper>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ShowStories;\r\n","import { useEffect, useState } from \"react\";\r\nimport CountryCitySelector from \"../UI/CountryCitySelector/CountryCitySelector\";\r\nimport UserPane from \"../UI/UserPane\";\r\nimport MainWrapper from \"../UI/Wrappers/MainWrapper\";\r\nimport ShowStories from \"./ShowStories\";\r\nimport \"./BrowseContent.css\";\r\n\r\n// Main container where stories are shown\r\nconst BrowseContent = (props) => {\r\n  const [searchLocale, setSearchLocale] = useState({});\r\n  const [results, setResults] = useState([]);\r\n\r\n  // API fetch to get the relevant stories\r\n  useEffect(() => {\r\n    let url;\r\n    // Adapting URL to data provided by country/city selector\r\n    if (searchLocale.country == null) {\r\n      url = \"/api/humans/\";\r\n    } else if (searchLocale.city == null || searchLocale.city == \"all\") {\r\n      url = `/api/humans/${searchLocale.country}/all`;\r\n    } else {\r\n      url = `/api/humans/${searchLocale.country}/${searchLocale.city}`;\r\n    }\r\n\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setResults(result.results);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n      });\r\n  }, [searchLocale]);\r\n\r\n  // Getting city and country up here from below\r\n  const handleSearchLocale = (locale) => {\r\n    setSearchLocale({ city: locale.city, country: locale.country });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <UserPane\r\n        linksToShow={[\r\n          [\"Your profile\", \"/profile\"],\r\n          [\"Add story\", \"/add\"],\r\n          [\"Homepage\", \"/\"],\r\n        ]}\r\n        userPaneVisibility={props.showUserPane}\r\n        toggleUserPaneVisibility={props.toggleUserPaneVisibility}\r\n        logOutUser={props.logOutUser}\r\n      />\r\n      <MainWrapper>\r\n        <section>\r\n          <div className=\"content-header-container\">\r\n            <h2 className=\"section-header\">Read their stories</h2>\r\n            <p>\r\n              Choose a country and/or a city to start browsing their stories.\r\n            </p>\r\n          </div>\r\n          <div className=\"story-selector-container\">\r\n            <CountryCitySelector handleSearchLocale={handleSearchLocale} />\r\n            <ShowStories results={results} />\r\n          </div>\r\n        </section>\r\n      </MainWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BrowseContent;\r\n","import { Link } from \"react-router-dom\";\r\nimport classes from \"./StandardButton.module.css\";\r\n\r\nfunction StandardButton(props) {\r\n  return (\r\n    <Link to={props.to}><div className={`${classes[\"standard-button\"]} ${props.className}`}>{props.text}</div></Link> \r\n  );\r\n}\r\n\r\nexport default StandardButton;\r\n","export default __webpack_public_path__ + \"static/media/loading.166632e1.gif\";","import { useState } from \"react\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport LoadingGif from \"./img/loading.gif\";\r\nimport classes from \"./StoriesSlideshow.module.css\";\r\n\r\nconst StoriesSlideshow = () => {\r\n  const [homeStories, setHomeStories] = useState(() => {\r\n    fetch(`/api/humans`)\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setHomeStories(result.results.slice(0, 4));\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n      });\r\n  });\r\n\r\n  let showCarouselItems;\r\n  if (!homeStories) {\r\n    showCarouselItems = (\r\n      <Carousel.Item key={\"loading\"}>\r\n        <img\r\n          className={`${classes[\"d-block w-100\"]} ${classes[\"carousel-img\"]}`}\r\n          src={LoadingGif}\r\n          alt=\"Loading animation\"\r\n        />\r\n        <Carousel.Caption>\r\n          <h3 style={{ color: \"black\" }}>Loading...</h3>\r\n        </Carousel.Caption>\r\n      </Carousel.Item>\r\n    );\r\n  } else {\r\n    showCarouselItems = homeStories.map((story) => {\r\n      return (\r\n        <Carousel.Item key={story._id}>\r\n          <img\r\n            className={`${classes[\"d-block w-100\"]} ${classes[\"carousel-img\"]}`}\r\n            src={story.img}\r\n            alt=\"First slide\"\r\n          />\r\n          <Carousel.Caption className={classes[\"carousel-caption\"]}>\r\n            <h3 style={{color: \"white\"}}>{`${story.name} ${story.surname} (${story.age})`}</h3>\r\n            <p style={{fontSize: \"1.2rem\", textAlign: \"center\"}}>{story.interview.advice}</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Carousel indicators={false} fade={true} interval={4000} className={classes[\"carousel-container\"]}>\r\n      {showCarouselItems}\r\n    </Carousel>\r\n  );\r\n};\r\n\r\nexport default StoriesSlideshow;\r\n","import \"./HomeContent.css\";\r\nimport ColoredWrapper from \"../UI/Wrappers/ColoredWrapper\";\r\nimport MainWrapper from \"../UI/Wrappers/MainWrapper\";\r\nimport StandardButton from \"../UI/StandardButton\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StoriesSlideshow from \"../UI/StoriesSlideshow\";\r\nimport DarkButton from \"../UI/DarkButton\";\r\n\r\n// Text content shown on home\r\nconst HomeContent = (props) => {\r\n  return (\r\n    <MainWrapper>\r\n      <section className=\"home-content__container\">\r\n        <div className=\"home-content\">\r\n          <h1 className=\"home-content__allcaps-header\">Humans of the Streets</h1>\r\n          <h2 className=\"home-content__white-header\">\r\n            The stories of those who live on the street\r\n          </h2>\r\n          <div className=\"home-content__paragraph-text\">\r\n            <p>\r\n              Join a community of volunteers dedicated to helping homeless\r\n              people around the world.\r\n            </p>\r\n          </div>\r\n          <DarkButton type=\"button\" onClick={props.toggleSignupFormVisibility} text=\"Start&nbsp;helping\" className=\"home-content__button\"/>\r\n        </div>\r\n        <StoriesSlideshow />\r\n      </section>\r\n    </MainWrapper>\r\n  );\r\n};\r\n\r\nexport default HomeContent;\r\n","import { Link } from \"react-router-dom\";\r\nimport classes from \"./ProfileNav.module.css\";\r\n\r\nconst ProfileNav = (props) => {\r\n  return (\r\n    <nav className={classes[\"profile-nav\"]}>\r\n      <Link to=\"/browse/\">\r\n        <div>Browse stories</div>\r\n      </Link>\r\n      <Link to=\"/add/\">\r\n        <div>Add new story</div>\r\n      </Link>\r\n      <Link to=\"/\" onClick={props.logOutUser}>\r\n        <div className={classes[\"accented-button\"]}>Logout</div>\r\n      </Link>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default ProfileNav;\r\n","import \"./EditStoryUI.css\";\r\n\r\nconst EditStoryUI = (props) => {\r\n  const clickDelete = () => {\r\n    props.handleModalMessage(\"Do you really want to delete this element?\");\r\n    props.handleStoryToDelete((prevState) => {\r\n        let storyToDelete = Object.assign({}, prevState.storyToDelete);\r\n        storyToDelete[\"id\"] = props.id;\r\n        return { storyToDelete };\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit-story-UI\">\r\n      <button onClick={clickDelete} className=\"delete-button\"></button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditStoryUI;\r\n","import { useEffect, useState } from \"react\";\r\nimport EditStoryUI from \"../UI/EditStoryUI/EditStoryUI\";\r\nimport ShowSingleStory from \"./ShowSingleStory\";\r\n\r\n// Container showing stories submitted by a specific user\r\nconst ShowSubmittedStories = (props) => {\r\n  const [currentUserID, setCurrentUserID] = useState(\r\n    sessionStorage.getItem(\"user\")\r\n  );\r\n  let [filteredStories, setFilteredStories] = useState(() => {\r\n    fetch(`/api/humans/user/${currentUserID}`)\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.foundStories) {\r\n          setFilteredStories(result.results);\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n      });\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (props.storyToDelete.storyToDelete.delete) {\r\n      const newFilteredStories = filteredStories.filter((story) => {\r\n        return story._id !== props.storyToDelete.storyToDelete.id;\r\n      });\r\n      console.log(newFilteredStories);\r\n      setFilteredStories(newFilteredStories);\r\n    }\r\n  }, [props.storyToDelete.storyToDelete.delete]);\r\n\r\n  let showFilteredStories;\r\n  if (filteredStories) {\r\n    showFilteredStories = filteredStories.map((story) => {\r\n      return (\r\n        <ShowSingleStory\r\n          key={`story-${story._id}`}\r\n          story={story}\r\n          editStoryUI={\r\n            <EditStoryUI\r\n              id={story._id}\r\n              handleStoryToDelete={props.handleStoryToDelete}\r\n              handleModalMessage={props.handleModalMessage}\r\n              handleStoryToDelete={props.handleStoryToDelete}\r\n            />\r\n          }\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your submitted stories</h3>\r\n      <div className=\"results-container\">{showFilteredStories}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowSubmittedStories;\r\n","import classes from \"./UserMessage.module.css\";\r\n\r\nconst UserMessage = (props) => {\r\n  const cancelButton = (\r\n    <button\r\n      onClick={() => {\r\n        props.onClick(\"\");\r\n      }}\r\n      className={`${classes[\"modal-button\"]} ${classes[\"left-button\"]}`}\r\n    >\r\n      Cancel\r\n    </button>\r\n  );\r\n\r\n  const closeUserMessage = () => {\r\n    props.onClick(null);\r\n  };\r\n\r\n  const okUserMessage = () => {\r\n    // Send id to delete\r\n    if (props.handleStoryToDelete) {\r\n      props.handleStoryToDelete((prevState) => {\r\n        let storyToDelete = Object.assign({}, prevState.storyToDelete);\r\n        storyToDelete[\"delete\"] = true;\r\n        return { storyToDelete };\r\n      });\r\n    }\r\n    // Close window message\r\n    props.onClick(null);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={closeUserMessage}\r\n      className={`${classes.modal} ${props.className}`}\r\n    >\r\n      <div className={`${classes[\"modal-content\"]}`}>\r\n        <p className={`${classes[\"modal-text\"]}`}>{props.text}</p>\r\n        <div className={`${classes[\"button-container\"]}`}>\r\n          {props.cancelButton ? cancelButton : null}\r\n          <button\r\n            onClick={okUserMessage}\r\n            className={`${classes[\"modal-button\"]}`}\r\n          >\r\n            Ok\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMessage;\r\n","import DarkButton from \"../UI/DarkButton\";\r\nimport classes from \"./ConfirmCancelButtons.module.css\";\r\n\r\nconst ConfirmCancelButtons = (props) => {\r\n  return (\r\n    <div>\r\n      <DarkButton\r\n        text=\"Cancel\"\r\n        className={classes[\"show-data-button\"]}\r\n        onClick={props.onCancel}\r\n      />\r\n      <DarkButton\r\n        text=\"Confirm\"\r\n        className={classes[\"show-data-button\"]}\r\n        onClick={props.onConfirm}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmCancelButtons;\r\n","import { useState } from \"react\";\r\nimport classes from \"./ShowPersonalData.module.css\";\r\nimport DarkButton from \"../UI/DarkButton\";\r\nimport UserMessage from \"../UI/UserMessage\";\r\nimport ConfirmCancelButtons from \"./ConfirmCancelButtons\";\r\n\r\nconst ShowPersonalData = () => {\r\n  const [userId, setUserId] = useState(sessionStorage.getItem(\"user\"));\r\n  const [personalData, setPersonalData] = useState(() => {\r\n    fetch(`/api/users/id/${userId}`)\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPersonalData({ user: result.results });\r\n        setOldPersonalData(result.results)\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n      });\r\n  });\r\n  const [oldPersonalData, setOldPersonalData] = useState();\r\n  const [formDisabled, setFormDisabled] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showPasswordEdit, setShowPasswordEdit] = useState(false);\r\n  const [modalText, setModalText] = useState(\"\");\r\n  const [newPasswordObj, setNewPasswordObj] = useState({ newPasswordObj: {} });\r\n\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const handleChangePassword = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const activateDataEdit = () => {\r\n    setFormDisabled(false);\r\n  };\r\n\r\n  const activatePasswordEdit = () => {\r\n    setShowPasswordEdit(true);\r\n  };\r\n\r\n  const cancelEdits = () => {\r\n    setFormDisabled(true);\r\n  };\r\n\r\n  const cancelPasswordEdit = () => {\r\n    setShowPasswordEdit(false);\r\n  };\r\n\r\n  const handleNewPasswordObj = (e, key) => {\r\n    setNewPasswordObj((prevState) => {\r\n      const newPasswordObj = Object.assign(prevState.newPasswordObj);\r\n      newPasswordObj[key] = e.target.value;\r\n      return { newPasswordObj };\r\n    });\r\n  };\r\n\r\n  const confirmPasswordEdit = () => {\r\n    // Password validation\r\n    console.log(\r\n      personalData.user.email,\r\n      newPasswordObj.newPasswordObj.currentPassword\r\n    );\r\n\r\n    // Check old password\r\n    fetch(\"/api/login\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        email: personalData.user.email,\r\n        password: newPasswordObj.newPasswordObj.currentPassword,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        // Password is right\r\n        if (result.session) {\r\n          if (\r\n            newPasswordObj.newPasswordObj.newPassword !==\r\n            newPasswordObj.newPasswordObj.confirmPassword\r\n          ) {\r\n            setModalText(\"The two passwords don't match!\");\r\n            setShowModal(true);\r\n            setNewPasswordObj({ newPasswordObj: {} });\r\n            return;\r\n          }\r\n          // Set new password in place of old one\r\n          setPersonalData((prevState) => {\r\n            const user = Object.assign(prevState.user);\r\n            user.password = newPasswordObj.newPasswordObj.confirmPassword;\r\n            return { user };\r\n          });\r\n\r\n          // Set new password\r\n          fetch(\"/api/users/password\", {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            method: \"PUT\",\r\n            body: JSON.stringify({\r\n              _id: personalData.user._id,\r\n              password: personalData.user.password,\r\n            }),\r\n          })\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              if (result.nModified === 1) {\r\n                setShowModal(true);\r\n                setModalText(\"Personal details changed successfully!\");\r\n\t\t\t\t\t\t\t\tsetNewPasswordObj({ newPasswordObj: {} });\r\n\t\t\t\t\t\t\t\tsetShowPasswordEdit(false);\r\n              } else {\r\n\t\t\t\t\t\t\t\tsetShowModal(true);\r\n                setModalText(\"The was an issue with your request!\");\r\n\t\t\t\t\t\t\t\tsetNewPasswordObj({ newPasswordObj: {} });\r\n\t\t\t\t\t\t\t\tsetShowPasswordEdit(false);\r\n\t\t\t\t\t\t\t}\r\n            })\r\n            .catch(function (error) {\r\n              console.log(\"An error occurred: \" + error.message);\r\n            });\r\n        } else {\r\n          setModalText(\"The password you inserted is wrong!\");\r\n          setShowModal(true);\r\n          setNewPasswordObj({ newPasswordObj: {} });\r\n          return;\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n      });\r\n  };\r\n\r\n  const confirmEdits = () => {\r\n    if (oldPersonalData.name === personalData.user.name && oldPersonalData.surname === personalData.user.surname) {\r\n      console.log(\"triggered\")\r\n      setShowModal(true);\r\n      setModalText(\"Please change your data!\");\r\n      return;\r\n    }\r\n    fetch(\"/api/users/update/data\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify({\r\n        oldmail: personalData.user.email,\r\n        email: personalData.user.email,\r\n        name: personalData.user.name,\r\n        surname: personalData.user.surname,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.results.modifiedCount === 1) {\r\n          setShowModal(true);\r\n          setModalText(\"Personal details changed successfully!\");\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"An error occurred: \" + error.message);\r\n      });\r\n    setFormDisabled(true);\r\n  };\r\n\r\n  const handleName = (e) => {\r\n    setPersonalData((prevState) => {\r\n      const user = Object.assign(prevState.user);\r\n      user.name = e.target.value.trim();\r\n      return { user };\r\n    });\r\n  };\r\n\r\n  const handleSurname = (e) => {\r\n    setPersonalData((prevState) => {\r\n      const user = Object.assign(prevState.user);\r\n      user.surname = e.target.value.trim();\r\n      return { user };\r\n    });\r\n  };\r\n\r\n  const modifyButtons = (\r\n    <div>\r\n      <DarkButton\r\n        text=\"Modify data\"\r\n        className={classes[\"show-data-button\"]}\r\n        onClick={activateDataEdit}\r\n      />\r\n      <DarkButton\r\n        text=\"Modify password\"\r\n        className={classes[\"show-data-button\"]}\r\n        onClick={activatePasswordEdit}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  const editPasswordContent = (\r\n    <form onSubmit={handleChangePassword} className={classes[\"profile-forms\"]}>\r\n      <div>\r\n        <label htmlFor=\"old-password\">Current password: </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"old-password\"\r\n          autoComplete=\"current-password\"\r\n          value={newPasswordObj.newPasswordObj.currentPassword || \"\"}\r\n          onChange={(e) => handleNewPasswordObj(e, \"currentPassword\")}\r\n        />\r\n      </div>\r\n      <br />\r\n      <div>\r\n        <label htmlFor=\"new-password\">New password: </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"new-password\"\r\n          autoComplete=\"new-password\"\r\n          value={newPasswordObj.newPasswordObj.newPassword || \"\"}\r\n          onChange={(e) => handleNewPasswordObj(e, \"newPassword\")}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"confirm-new-password\">Confirm new password: </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"confirm-new-password\"\r\n          autoComplete=\"new-password\"\r\n          value={newPasswordObj.newPasswordObj.confirmPassword || \"\"}\r\n          onChange={(e) => handleNewPasswordObj(e, \"confirmPassword\")}\r\n        />\r\n      </div>\r\n      <ConfirmCancelButtons\r\n        onCancel={cancelPasswordEdit}\r\n        onConfirm={confirmPasswordEdit}\r\n      />\r\n    </form>\r\n  );\r\n\r\n  const editDataContent = (\r\n    <form onSubmit={handleFormSubmit} className={classes[\"profile-forms\"]}>\r\n      <div>\r\n        <label htmlFor=\"name\">Name: </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          placeholder={personalData ? personalData.user.name : \"Your name\"}\r\n          autoComplete=\"given-name\"\r\n          value={personalData ? personalData.user.name : \"\"}\r\n          onChange={handleName}\r\n          disabled={formDisabled}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"surname\">Surname: </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"surname\"\r\n          placeholder={personalData ? personalData.user.surname : \"Your name\"}\r\n          autoComplete=\"family-name\"\r\n          value={personalData ? personalData.user.surname : \"\"}\r\n          onChange={handleSurname}\r\n          disabled={formDisabled}\r\n        />\r\n      </div>\r\n      {formDisabled ? (\r\n        modifyButtons\r\n      ) : (\r\n        <ConfirmCancelButtons onCancel={cancelEdits} onConfirm={confirmEdits} />\r\n      )}\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {showModal && (\r\n        <UserMessage\r\n          onClick={() => {\r\n            setShowModal(false);\r\n          }}\r\n          text={modalText}\r\n        />\r\n      )}\r\n      <div className={classes[\"personal-data-container\"]}>\r\n        <h3>Personal data</h3>\r\n        {showPasswordEdit ? editPasswordContent : editDataContent}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShowPersonalData;\r\n","import { useState } from \"react\";\r\nimport Accordion from \"react-bootstrap/Accordion\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport ShowPersonalData from \"../Main/ShowPersonalData\";\r\nimport classes from \"./AccordionProfile.module.css\";\r\n\r\nconst AccordionProfile = (props) => {\r\n  const showComponentCards = props.components.map((component, index) => {\r\n    return (\r\n      <Card key={`card-${index}`}>\r\n        <Accordion.Toggle as={Card.Header} eventKey={`${index}`} className={classes[\"accordion-header\"]}>\r\n          <h3 className={classes[\"accordion-title\"]}>{component.title}</h3>\r\n        </Accordion.Toggle>\r\n        <Accordion.Collapse eventKey={`${index}`}>\r\n          <Card.Body>\r\n            <section>{component.body}</section>\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={classes[\"accordion-container\"]}>\r\n      <Accordion defaultActiveKey=\"0\">{showComponentCards}</Accordion>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccordionProfile;\r\n","import ProfileNav from \"../UI/ProfileNav\";\r\nimport MainWrapper from \"../UI/Wrappers/MainWrapper\";\r\nimport ShowSubmittedStories from \"./ShowSubmittedStories\";\r\nimport ShowPersonalData from \"./ShowPersonalData\";\r\nimport AccordionProfile from \"../UI/AccordionProfile\";\r\n\r\n// Main container where stories are shown\r\nconst ProfileContent = (props) => {\r\n  const accordionComponents = [\r\n    {\r\n      title: \"Navigation\",\r\n      body: (\r\n        <ProfileNav\r\n          handleSession={props.handleSession}\r\n          logOutUser={props.logOutUser}\r\n        />\r\n      ),\r\n    },\r\n    { title: \"Edit user data\", body: <ShowPersonalData /> },\r\n    {\r\n      title: \"Delete submitted stories\",\r\n      body: (\r\n        <ShowSubmittedStories\r\n          handleModalMessage={props.handleModalMessage}\r\n          handleStoryToDelete={props.handleStoryToDelete}\r\n          storyToDelete={props.storyToDelete}\r\n        />\r\n      ),\r\n    },\r\n  ];\r\n  return (\r\n    <MainWrapper>\r\n      <h2>Your profile</h2>\r\n      <AccordionProfile components={accordionComponents} />\r\n    </MainWrapper>\r\n  );\r\n};\r\n\r\nexport default ProfileContent;\r\n","import { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport Footer from \"./components/Footer/Footer\";\nimport MainHeader from \"./components/Header/MainHeader\";\nimport SlimHeader from \"./components/Header/SlimHeader\";\nimport LoginForm from \"./components/Login/LoginForm\";\nimport SignupForm from \"./components/Login/SignupForm\";\nimport AddContent from \"./components/Main/AddContent\";\nimport BrowseContent from \"./components/Main/BrowseContent\";\nimport HomeContent from \"./components/Main/HomeContent\";\nimport ProfileContent from \"./components/Main/ProfileContent\";\nimport UserIcon from \"./components/UI/UserIcon\";\nimport UserMessage from \"./components/UI/UserMessage\";\n\nconst App = () => {\n  const [session, setSession] = useState(() => {\n    // One fetch to check if the user is logged, another fetch to get the ID\n    fetch(\"/api/login/check\")\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(\"Session is \", result.isLogged);\n        setSession(result.isLogged);\n        fetch(\"/api/users/email\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          method: \"POST\",\n          body: JSON.stringify({ email: result.user }),\n        })\n          .then((res) => res.json())\n          .then((result) => {\n            if (result.userFound) {\n              sessionStorage.setItem(\"user\", result.results._id);\n            }\n          })\n          .catch(function (error) {\n            console.log(\"An error occurred: \" + error.message);\n          });\n      })\n      .catch(function (error) {\n        console.log(\"An error occurred: \" + error.message);\n      });\n  });\n  // Show login pane or not\n  const [showLogin, setShowLogin] = useState(false);\n  // Show signup pane or not\n  const [showSignup, setShowSignup] = useState(false);\n  // What do you want to show in a pop window\n  const [modalMessage, setModalMessage] = useState(null);\n  // Which story to delete\n  const [storyToDelete, setStoryToDelete] = useState({\n    storyToDelete: { id: \"\", delete: false },\n  });\n  const [showUserPane, setShowUserPane] = useState(false);\n\n  const handleSession = (value) => {\n    setSession(value);\n  };\n\n  useEffect(() => {\n    if (!session) {\n      sessionStorage.removeItem(\"user\");\n    }\n  }, [session]);\n\n  const toggleLoginFormVisibility = () => {\n    setShowLogin(!showLogin);\n    if (showSignup) {\n      setShowSignup(false);\n    }\n  };\n\n  const toggleSignupFormVisibility = () => {\n    setShowSignup(!showSignup);\n    if (showLogin) {\n      setShowLogin(false);\n    }\n  };\n\n  const handleModalMessage = (text) => {\n    setModalMessage(text);\n  };\n\n  const handleStoryToDelete = (value) => {\n    setStoryToDelete(value);\n  };\n\n  // Delete story\n  useEffect(() => {\n    // Only if both story id and trigger are active\n    if (storyToDelete.storyToDelete.id && storyToDelete.storyToDelete.delete) {\n      fetch(`/api/humans/${storyToDelete.storyToDelete.id}`, {\n        method: \"DELETE\",\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          if (result.deletedCount > 0) {\n            setStoryToDelete({ storyToDelete: { id: \"\", delete: false } });\n          }\n        })\n        .catch(function (error) {\n          console.log(\"An error occurred: \" + error.message);\n        });\n    }\n  }, [storyToDelete]);\n\n  const toggleUserPaneVisibility = () => {\n    setShowUserPane(!showUserPane);\n  };\n\n  const logOutUser = () => {\n    fetch(\"/api/logout\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"PUT\",\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.loggedOut) {\n          handleSession(false);\n        } else {\n          handleModalMessage(\"It wasn't possible to log you out!\");\n        }\n      })\n      .catch(function (error) {\n        console.log(\"An error occurred: \" + error.message);\n      });\n  }\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\">\n          {modalMessage ? (\n            <UserMessage onClick={handleModalMessage} text={modalMessage} />\n          ) : null}\n          <MainHeader\n            session={session}\n            toggleLoginFormVisibility={toggleLoginFormVisibility}\n            handleModalMessage={handleModalMessage}\n          />\n          {showLogin ? (\n            <LoginForm\n              onLogin={handleSession}\n              toggleSignupFormVisibility={toggleSignupFormVisibility}\n              toggleLoginFormVisibility={toggleLoginFormVisibility}\n              handleModalMessage={handleModalMessage}\n            />\n          ) : null}\n          {showSignup ? <SignupForm handleModalMessage={handleModalMessage} /> : null}\n          <HomeContent toggleSignupFormVisibility={toggleSignupFormVisibility} />\n        </Route>\n\n        <Route exact path=\"/browse\">\n          <SlimHeader\n            session={session}\n            toggleUserPaneVisibility={toggleUserPaneVisibility}\n          />\n          <BrowseContent\n            showUserPane={showUserPane}\n            toggleUserPaneVisibility={toggleUserPaneVisibility}\n            logOutUser={logOutUser}\n          />\n        </Route>\n\n        {session ? (\n          <Route exact path=\"/profile\">\n            {modalMessage ? (\n              <UserMessage\n                onClick={handleModalMessage}\n                text={modalMessage}\n                cancelButton={true}\n                handleStoryToDelete={handleStoryToDelete}\n              />\n            ) : null}\n            <SlimHeader />\n            <ProfileContent\n              session={session}\n              handleModalMessage={handleModalMessage}\n              handleStoryToDelete={handleStoryToDelete}\n              handleSession={handleSession}\n              storyToDelete={storyToDelete}\n              logOutUser={logOutUser}\n            />\n          </Route>\n        ) : (\n          <Redirect to=\"/\" />\n        )}\n\n        <Route path=\"/add\">\n          <SlimHeader\n            session={session}\n            toggleUserPaneVisibility={toggleUserPaneVisibility}\n          />\n          <AddContent\n            showUserPane={showUserPane}\n            toggleUserPaneVisibility={toggleUserPaneVisibility}\n            logOutUser={logOutUser}\n          />\n        </Route>\n      </Switch>\n      <Footer />\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}